# Writeup 3 - Operational Security and Social Engineering

Name: Krishan Panduwawala
Section: 0201

I pledge on my honor that I have not given or received any unauthorized assistance on this assignment or examniation.

Digital acknowledgement: Krishan Panduwawala

## Assignment Writeup

### Part 1 (40 pts)

1. I first tried to entering commands such as “ls” right when nc prompted me to enter an IP or domain to look up. This led me nowhere as the command did not print what I requested.

2. Then I considered entering something relevant to what the prompt was asking for. I put a random IP like 10.0.1.1 and then put the linux command “ls” after and “&” symbol. The command worked and I was able to see the list of directories. I found out that I could put any number for the IP and it would work and that I could even use ";" instead of "&."

3. Since we knew the OS was Ubuntu, I looked for the the shell executable so I could run an interactive shell. From the previous step I found that there was a bin directory in which I found the sh executable. I specifically used after the prompt “123 & /bin/sh” which let me into the shell.

4. Then I navigated to the home directory where I used cat to find the flag “{d1gging_f0r_flag5_thr0ugh_1njec7ion}.”


### Part 2 (60 pts)

To make use of the vulnerability from part one, I decided to repeatedly connect to the server and do command injection with a desired command and return the output in my shell. My program had to first connect to the server using sockets with the provided port and address. Then the program has to take in user input which is the desired command to be run. Then through the socket, the program sends the command using command injection as done in part 1. Then the program recieves data from the socket which will be the output of the command if there is any. I ran into trouble when dealing with the command "cd." I needed to show the current directory and preserve the current directory in each iteration of connecting to the address. I solved this by storing the directory in a global variable after the command "cd" is called, and in each iteration the shell would automatically switch to the stored directory. When "cd" is run, there is no data recieved and the program would just wait forever so I had to look for when "cd" was called and handle it properly.  
